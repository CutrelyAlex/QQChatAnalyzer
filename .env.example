# ================================================
# QQ聊天记录分析系统 - 环境配置文件示例
# 将此文件复制为 .env 并填入实际的配置值
# ================================================

# ============ OpenAI Compatible API 配置 ============
# API密钥，填写对应服务的API密钥
OPENAI_API_KEY=sk-your_api_key_here_or_use_proxy

# API基础URL，使用支持OpenAI兼容API的服务，例如https://aihubmix.com/v1等
OPENAI_API_BASE=https://api.openai.com/v1

# 使用的模型名称
# 推荐：gpt-4o-mini
OPENAI_MODEL=gpt-4o-mini

# API请求超时时间（秒）
# 含义：从请求发送到完全接收响应的总耗时（不含网络往返延迟的重试机制）
# 对于大量聊天记录，建议设置120秒以上
OPENAI_REQUEST_TIMEOUT=300

# ============ Flask Web服务配置 ============
# 监听地址
FLASK_HOST=0.0.0.0

# 监听端口
FLASK_PORT=5002

# Flask调试模式
FLASK_DEBUG=True

# ============ 数据处理配置 ============
# 最大文件大小限制（单位：MB）
MAX_FILE_SIZE_MB=100

# 最大成员数量限制
MAX_MEMBERS=10000

# 单次加载最大记录数
MAX_RECORDS_PER_LOAD=1000000

# ============ AI总结配置 ============
# 最大内存Token总预算
DEFAULT_MAX_TOKENS=500000

# 保留的Token数（为系统提示词预留）
RESERVED_TOKENS=500

# 聊天记录采样的Token预算（控制稀疏采样的范围）
# 含义：用于AI总结的聊天记录最多包含多少个tokens
# 默认值：60000（约能包含4万字左右的聊天内容）
DEFAULT_CONTEXT_BUDGET=60000

# AI输出Token限制（报告/总结的默认长度）
# 含义：AI生成的总结内容最多包含多少个tokens
# 默认值：8000
DEFAULT_OUTPUT_TOKENS=8000

# 默认的信息保留比例（0.0-1.0，在稀疏采样时使用）
DEFAULT_RETENTION_RATIO=1.0
